<h1>Historische Daten</h1>
<h4>Hier können Daten in einem Zeitraum abgerufen und in einem Chart angezeigt werden.</h4>
<mat-divider></mat-divider>

<div class="historicWrapper">
  
<mat-form-field class="myInput">
  <select matNativeControl [(ngModel)]="chartConfig.selectedLocation " 
      (ngModelChange)="changeLocation($event)" placeholder="Stadt wählen">
    <option *ngFor="let location of locations" [ngValue]="location">
      {{location.name}}
    </option>
  </select>
</mat-form-field><br>


<button [disabled]="!chartConfig.selectedLocation" mat-flat-button class="myButton" color="primary" (click)="changeInterval('daily')">Daily</button>
<button [disabled]="!chartConfig.selectedLocation" mat-flat-button class="myButton" color="primary" (click)="changeInterval('threeHours')">3 Hours</button><br>

<mat-form-field class="myInput">
<select matNativeControl name="sel" 
    [(ngModel)]="chartConfig.period.from">
  <option *ngFor="let date of chartConfig.period.dates" [ngValue]="date">
    {{date.value}}
  </option>
</select>
</mat-form-field>

<mat-form-field class="myInput">
<select matNativeControl name="sel" 
    [(ngModel)]="chartConfig.period.to">
  <option *ngFor="let date of chartConfig.period.dates" [ngValue]="date">
    {{date.value}}
  </option>
</select><br>
</mat-form-field>

<button mat-flat-button class="myButton" color="primary" [disabled]="!chartConfig.selectedLocation" (click)="applyChartConfigs()">übernehmen</button><br>

<button mat-flat-button [disabled]="!chart" class="myButton" color="primary" (click)="changeData('temperature')">Temperatur</button>
<button mat-flat-button [disabled]="!chart" class="myButton" color="primary" (click)="changeData('wind')">Windgeschwindigkeit</button>
<button mat-flat-button [disabled]="!chart" class="myButton" color="primary" (click)="changeData('pressure')">Druck</button>
<button mat-flat-button [disabled]="!chart" class="myButton" color="primary" (click)="changeData('precipitation')">Niederschlag</button>

<div class="myChart">
    <canvas #lineChart>{{ chart }}</canvas>
 </div>


 <button [disabled]="!chart" class="myButton" color="primary" (click)="exportCSV()">export csv</button>


 </div>